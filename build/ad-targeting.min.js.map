{"version":3,"file":"build/ad-targeting.min.js","sources":["build/ad-targeting.js"],"names":["e","t","n","r","s","o","u","a","require","i","Error","f","exports","call","length",1,"module","hasStackBeforeThrowing","hasStackAfterThrowing","err","stack","thrownErr","pageUrl","window","location","href","scripts","document","getElementsByTagName","getScriptFromUrl","url","len","src","getSoleInlineScript","script","getStackDepthToSkip","depth","_currentScript","skipStackDepth","getScriptUrlFromStack","matches","remainingStack","ignoreMessage","match","slice","indexOf","readyState","needsPolyfill","canDefineGetter","__defineGetter__","canDefineProp","Object","defineProperty","result","get","configurable","_xyz",2,"process","parse","decode","stringify","encode","safe","unsafe","eol","platform","obj","opt","children","out","section","whitespace","separator","keys","forEach","k","_","__","val","Array","isArray","item","push","nk","dotSplit","join","child","str","replace","split","map","part","p","state","re","lines","line","undefined","key","value","JSON","substring","filter","parts","l","pop","nl","del","isQuoted","charAt","trim","doUnesc","substr","esc","unesc","c","this","/usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js",3,"queryString","reduce","ret","param","decodeURIComponent","hasOwnProperty","val2","encodeURIComponent","define","amd",4,"ini","initBlocks","initRules","initMatcher","getTextContent","currentScript","config","configStr","console","warn","blocks","rules","qs","search","matcher","currentRule","apply","./get-text-content","./init-blocks","./init-matcher","./init-rules","currentscript","query-string",5,"bindMethodContext","ApplyStrategy","block","Super","constructor","_this","_onvariant","onvariant","el","getElement","selectStrategy","selectStrategies","prototype","initSelectStrategy","rule","SelectStrategy","_getSelectStrategyConstructor","content","name","_isContentMultivar","applyMulti","applySinge","setContent","setHTML","innerHTML","variants","_isSelectStrategyAsync","applyMultiAsync","applyMultiSync","getVariantAsync","getVariant","callback","variant","error","async","_getSelectStrategyName","select","strategyName","./select-strategies","./utils",6,"GoogleExperimentsStrategy","options","initConfig","isReady","initCxApi","defaultEndpoint","configMap","experimentId","endpoint","domainName","cookiePath","allowHash","ruleConfig","blockConfig","confKey","chooseVariation","cxApi","getChosenVariation","setChosenVariation","variantId","experimantId","defaultVariation","saveVariant","ORIGINAL_VARIATION","readyCallback","getScriptSrc","loadScript","createElement","setAttribute","onload","onscriptfinish","onscriptload","onerror","onscripterror","head","appendChild","applyExtras","setDomainName","setCookiePath","setAllowHash","arguments",7,"textContent","innerText",8,"compileBlock","blockName","id","selector","className","class","index","getElementsByClassName","elements","querySelector","querySelectorAll","getElementById","configBlocks","configBlock","blocksDefaults","./apply-strategy",9,"Matcher","against","test",10,"groupBy","union","testFnArgs","testFnTemplate","testExpr","compileTest","testFn","Function","args","compileApply","configRule","compileRule","sortRules","left","right","initConfigKeys","configKeys","blocksList","configRules","isNaN","parseInt","sort",11,"random","rnd","Math","floor","first","setTimeout","last","ga","defaultStrategy","./ga-select-strategy",12,"utils","array","forIn","iter","ctx","arr","grouped","group","set","j","l2","owner",13,"nextTick","canSetImmediate","setImmediate","canPost","postMessage","addEventListener","queue","ev","source","data","stopPropagation","fn","shift","title","browser","env","argv","binding","cwd","chdir","dir"],"mappings":"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"}